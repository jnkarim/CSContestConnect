@model CSContestConnect.Web.Models.Auth.ResetPasswordViewModel
@{
    ViewData["Title"] = "Change Password";
    Layout = "_Layout";
    ViewBag.HideNavbar = true;
}
@section Styles {
<link rel="stylesheet" href="~/css/auth.css" asp-append-version="true" />
<style>
.brand-side--login {
    background-image:
        linear-gradient(rgba(10,10,20,.45), rgba(10,10,20,.65)),
        url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?q=80&w=1170&auto=format&fit=crop');
    background-size: cover;
    background-position: center;
}
</style>
}

<div class="screen mesh d-flex align-items-center justify-content-center px-3">
  <div class="auth-wrap container">
    <div class="panel panel--compact row g-0">
      <div class="brand-side brand-side--login col-12 col-lg-5"></div>
      <div class="form-side col-12 col-lg-7 p-4 p-md-5">
        <h3 class="text-white mb-3 fw-bold">Change Password</h3>
        
        @if (TempData["ErrorMessage"] != null)
        {
            <div class="alert alert-danger">@TempData["ErrorMessage"]</div>
        }
        
        <div asp-validation-summary="ModelOnly" class="text-danger small"></div>
        
        <form asp-action="ResetPassword" method="post" novalidate>
          @Html.AntiForgeryToken()
          <input type="hidden" asp-for="Token" />
          
          <div class="mb-3">
            <label class="form-label tiny">Email</label>
            <input asp-for="Email" class="form-control bg-glass" readonly />
            <span asp-validation-for="Email" class="text-danger small"></span>
          </div>
          
          <div class="mb-3">
            <label asp-for="Password" class="form-label tiny">New Password</label>
            <input asp-for="Password" type="password" class="form-control bg-glass" />
            <span asp-validation-for="Password" class="text-danger small"></span>
          </div>
          
          <div class="mb-3">
            <label asp-for="ConfirmPassword" class="form-label tiny">Confirm New Password</label>
            <input asp-for="ConfirmPassword" type="password" class="form-control bg-glass" />
            <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
          </div>
          
          <div class="d-grid">
            <button class="btn btn-gradient py-3">Reset Password</button>
          </div>
          
          <div class="text-center mt-3">
            <a asp-action="Login" class="link-accent tiny">Back to Login</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

@section Scripts { 
    <partial name="_ValidationScriptsPartial" /> 
}